<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutorial &mdash; postqe 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="postqe 0.1 documentation" href="index.html" />
    <link rel="next" title="postqe package" href="postqe.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="postqe.html" title="postqe package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">postqe 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorial">
<span id="id1"></span><h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>This is a simple tutorial demonstrating the main functionalities of <code class="xref py py-mod docutils literal"><span class="pre">postqe</span></code>. The examples below show how to use the package to perform the most common tasks. The code examples can be found in the directory <em>examples</em> of the package and can be run either as interactive sessions in your Python intepreter or as scripts.
The tutorial is based on the following examples:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Example n.</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>Plot a 1D section of the charge density</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Plot a 1D section of the charge density</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Fit <span class="math">\(E_{tot}(V)\)</span> for a cubic (isotropic) system using Murnaghan EOS</td>
</tr>
</tbody>
</table>
<p>Several simplified plotting functions are available in <code class="xref py py-mod docutils literal"><span class="pre">postqe</span></code> and are used in the following tutorial to show what you can plot.
Note however that all plotting functions need the matplotlib library, which must be available on your system and can be used to further taylor your plot.</p>
<div class="section" id="fitting-the-total-energy-examples-3">
<h2>Fitting the total energy (examples 3)<a class="headerlink" href="#fitting-the-total-energy-examples-3" title="Permalink to this headline">¶</a></h2>
<p>The simplest task you can do with <code class="xref py py-mod docutils literal"><span class="pre">postqe</span></code> is to fit the total energy as a function of volume <span class="math">\(E_{tot}(V)\)</span> (example3). You can use
an equation of state (EOS) such as Murnaghan&#8217;s or similar.  Currently the Murnaghan EOS and quadratic and quartic polynomials are implemented in <code class="xref py py-mod docutils literal"><span class="pre">postqe</span></code>.</p>
<p>Let&#8217;s see how to fit <span class="math">\(E_{tot}(V)\)</span>. This is the case of isotropic cubic systems (simple cubic, body centered cubic, face centered cubic) or systems which can be approximated as isotropic (for example an hexagonal system with nearly constant <span class="math">\(c/a\)</span> ratio).</p>
<div class="highlight-python"><div class="highlight"><pre>
<span class="kn">from</span> <span class="nn">postqe</span> <span class="kn">import</span> <span class="n">fitEtotV</span><span class="p">,</span> <span class="n">plot_EV</span>

<span class="n">fin</span> <span class="o">=</span> <span class="s2">&quot;./EtotV.dat&quot;</span>  		<span class="c1"># file with the total energy data E(V)</span>
<span class="n">V</span><span class="p">,</span> <span class="n">E</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">chi2</span> <span class="o">=</span> <span class="n">fitEtotV</span><span class="p">(</span><span class="n">fin</span><span class="p">)</span>    	<span class="c1"># fits the E(V) data, returns the coefficients a and</span>
                                	<span class="c1"># the chi squared chi2</span>

<span class="n">fig1</span> <span class="o">=</span> <span class="n">plot_EV</span><span class="p">(</span><span class="n">V</span><span class="p">,</span><span class="n">E</span><span class="p">,</span><span class="n">a</span><span class="p">)</span>                  	<span class="c1"># plot the E(V) data and the fitting line</span>
<span class="n">fig1</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;figure_1.png&quot;</span><span class="p">)</span>

</pre></div>
</div>
<p>The <code class="xref py py-func docutils literal"><span class="pre">fitEtotV()</span></code> needs in input a file with two columns: the first with the volumes (in <span class="math">\(a.u.^3\)</span>), the second with energies (in <span class="math">\(Ryd/cell\)</span>). It returns the volumes <em>V</em> and energies <em>E</em> from the input file plus the fitting coefficients <em>a</em> and the <span class="math">\(\chi^2\)</span> <em>chi</em>. The fitting results are also written in details on the <em>stdout</em>:</p>
<div class="highlight-python"><div class="highlight"><pre># Murnaghan EOS 		 chi squared= 6.3052908120e-09
# Etotmin= -1.6668753461e+03 Ry	 Vmin= 1.9256068649e+02 a.u.^3	 B0= 3.9507640525e+03 kbar	 dB0/dV= 4.7877558697e+00
################################################################################
# V *a.u.^3) 		 Etot  (Ry)		 Etotfit  (Ry)		 Etot-Etotfit (Ry)	P (kbar)
1.7119697047e+02 	 -1.6668351807e+03	 -1.6668351587e+03	 -2.1971172146e-05	 6.2381531911e+02
1.7637989181e+02 	 -1.6668536038e+03	 -1.6668536431e+03	 3.9227047637e-05	 4.3099793531e+02
1.8166637877e+02 	 -1.6668660570e+03	 -1.6668660709e+03	 1.3986418708e-05	 2.6537059196e+02
1.8705745588e+02 	 -1.6668731355e+03	 -1.6668731117e+03	 -2.3822185085e-05	 1.2288704542e+02
1.9255414767e+02 	 -1.6668753764e+03	 -1.6668753461e+03	 -3.0392647432e-05	 1.3417016197e-01
1.9815747866e+02 	 -1.6668732871e+03	 -1.6668732784e+03	 -8.7825126229e-06	 -1.0577186614e+02
2.0386847338e+02 	 -1.6668673220e+03	 -1.6668673472e+03	 2.5205460133e-05	 -1.9727163448e+02
2.0968815635e+02 	 -1.6668579007e+03	 -1.6668579345e+03	 3.3793803595e-05	 -2.7643386187e+02
2.1561755211e+02 	 -1.6668454001e+03	 -1.6668453729e+03	 -2.7248831202e-05	 -3.4501482193e+02
</pre></div>
</div>
<p>Optionally, you can plot the results with the <code class="xref py py-func docutils literal"><span class="pre">plot_EV()</span></code>. The original data are represented as points. If <em>a!=None</em>, a line with the fitting EOS will also be plotted. The output plot looks like the following:</p>
<a class="reference internal image-reference" href="_images/figure_1.png"><img alt="_images/figure_1.png" src="_images/figure_1.png" style="width: 500px;" /></a>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tutorial</a><ul>
<li><a class="reference internal" href="#fitting-the-total-energy-examples-3">Fitting the total energy (examples 3)</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="introduction.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="postqe.html"
                        title="next chapter">postqe package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tutorial.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="postqe.html" title="postqe package"
             >next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">postqe 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2017, M. Palumbo, D. Brunato, P. D. Delugas.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>